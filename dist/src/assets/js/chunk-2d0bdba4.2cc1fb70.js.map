{"version":3,"sources":["webpack:///./src/components/Join.vue?ea86","webpack:///src/components/Join.vue","webpack:///./src/components/Join.vue?6777","webpack:///./src/components/Join.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","joinRoom","directives","name","rawName","value","expression","attrs","domProps","target","composing","roomID","_v","errors","has","_s","first","_e","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,OAAO,CAACE,YAAY,OAAOC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBT,EAAIU,SAASF,MAAW,CAACJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,QAAQ,CAACO,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOd,EAAU,OAAEe,WAAW,UAAU,CAACH,KAAK,WAAWC,QAAQ,aAAaC,MAAM,mCAAqCC,WAAW,uCAAuCT,YAAY,mCAAmCU,MAAM,CAAC,KAAO,OAAO,aAAe,MAAM,WAAa,QAAQ,SAAW,GAAG,KAAO,SAAS,GAAK,UAAUC,SAAS,CAAC,MAASjB,EAAU,QAAGO,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOU,OAAOC,YAAqBnB,EAAIoB,OAAOZ,EAAOU,OAAOJ,WAAUV,EAAG,QAAQ,CAACE,YAAY,cAAcU,MAAM,CAAC,IAAM,aAAa,CAAChB,EAAIqB,GAAG,aAAajB,EAAG,aAAa,CAACY,MAAM,CAAC,KAAO,8BAA8B,CAAEhB,EAAIsB,OAAOC,IAAI,UAAWnB,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACN,EAAIqB,GAAGrB,EAAIwB,GAAGxB,EAAIsB,OAAOG,MAAM,cAAczB,EAAI0B,QAAQ,GAAGtB,EAAG,SAAS,CAACE,YAAY,qBAAqBU,MAAM,CAAC,KAAO,WAAW,CAAChB,EAAIqB,GAAG,oBAC5oCM,EAAkB,G,0nBC+BtB,OACA,YACA,KAFA,WAGA,OACA,cAKA,WACA,SADA,WACA,IAEA,cACA,yEACA,oCACA,kCACA,MAEA,+BACA,MACA,EACA,sBACA,qBACA,KACA,UACA,0BACA,UAGA,mBAIA,iEAEA,yCACA,EAMA,4BACA,iBACA,uBAPA,4BACA,iBACA,+BAUA,2BCjF8U,I,YCO1UC,EAAY,eACd,EACA7B,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"src/assets/js/chunk-2d0bdba4.2cc1fb70.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-in-wrapper\"},[_c('form',{staticClass:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.joinRoom($event)}}},[_c('div',{staticClass:\"form__input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.roomID),expression:\"roomID\"},{name:\"validate\",rawName:\"v-validate\",value:('required|alpha_num|min:20|max:20'),expression:\"'required|alpha_num|min:20|max:20'\"}],staticClass:\"form__input form__input--primary\",attrs:{\"type\":\"text\",\"autocomplete\":\"off\",\"spellcheck\":\"false\",\"required\":\"\",\"name\":\"roomID\",\"id\":\"roomID\"},domProps:{\"value\":(_vm.roomID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.roomID=$event.target.value}}}),_c('label',{staticClass:\"form__lable\",attrs:{\"for\":\"roomName\"}},[_vm._v(\"Room ID\")]),_c('transition',{attrs:{\"name\":\"error-message__transition\"}},[(_vm.errors.has('roomID'))?_c('span',{staticClass:\"error-message\"},[_vm._v(_vm._s(_vm.errors.first(\"roomID\")))]):_vm._e()])],1),_c('button',{staticClass:\"btn btn--secondary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Join Room\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"sign-in-wrapper\">\r\n\t\t<form @submit.prevent=\"joinRoom\" class=\"form\">\r\n\t\t\t<div class=\"form__input-group\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tv-model=\"roomID\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\tspellcheck=\"false\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tname=\"roomID\"\r\n\t\t\t\t\tv-validate=\"'required|alpha_num|min:20|max:20'\"\r\n\t\t\t\t\tid=\"roomID\"\r\n\t\t\t\t\tclass=\"form__input form__input--primary\"\r\n\t\t\t\t/>\r\n\t\t\t\t<label for=\"roomName\" class=\"form__lable\">Room ID</label>\r\n\t\t\t\t<transition name=\"error-message__transition\">\r\n\t\t\t\t\t<span class=\"error-message\" v-if=\"errors.has('roomID')\">{{\r\n\t\t\t\t\t\terrors.first(\"roomID\")\r\n\t\t\t\t\t}}</span>\r\n\t\t\t\t</transition>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\" class=\"btn btn--secondary\">Join Room</button>\r\n\t\t</form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nimport { db } from \"@/firebase.js\";\r\n\r\nexport default {\r\n\tname: \"Join\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\troomID: null,\r\n\t\t};\r\n\t},\r\n\t// created() {},\r\n\t// computed: {},\r\n\tmethods: {\r\n\t\tjoinRoom() {\r\n\t\t\t// TODO: Add vue.wait\r\n\t\t\tconst { roomID } = this;\r\n\t\t\tconst userRef = this.user().uid ? db.collection(\"players\").doc(this.user().uid) : null;\r\n\t\t\tconst roomRef = db.collection(\"rooms\").doc(roomID)\r\n\t\t\t\t? db.collection(\"rooms\").doc(roomID)\r\n\t\t\t\t: null;\r\n\r\n\t\t\tif (!this.errors.has(\"roomID\") && roomID) {\r\n\t\t\t\tif (roomRef && userRef) {\r\n\t\t\t\t\troomRef\r\n\t\t\t\t\t\t.collection(\"players\")\r\n\t\t\t\t\t\t.doc(this.user().uid)\r\n\t\t\t\t\t\t.set({\r\n\t\t\t\t\t\t\tisCzar: false,\r\n\t\t\t\t\t\t\tname: this.user().nickname,\r\n\t\t\t\t\t\t\tscore: 0,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tuserRef.update({ room: roomRef });\r\n\r\n\t\t\t\t\t// Get Room information\r\n\r\n\t\t\t\t\tconsole.log(`Joined room with ID ${roomRef.id} successfully`);\r\n\r\n\t\t\t\t\tthis.$router.push(`room/${roomRef.id}`);\r\n\t\t\t\t} else if (!userRef) {\r\n\t\t\t\t\tthis.$validator.errors.add({\r\n\t\t\t\t\t\tfield: \"roomName\",\r\n\t\t\t\t\t\tmsg: \"User not logged in.\",\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$validator.errors.add({\r\n\t\t\t\t\t\tfield: \"roomName\",\r\n\t\t\t\t\t\tmsg: \"Unknown error.\",\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t...mapState([\"user\"]),\r\n\t},\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Join.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Join.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Join.vue?vue&type=template&id=44499340&\"\nimport script from \"./Join.vue?vue&type=script&lang=js&\"\nexport * from \"./Join.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}