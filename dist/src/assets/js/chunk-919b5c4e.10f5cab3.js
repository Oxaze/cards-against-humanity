(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-919b5c4e"],{"14a1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sign-in-wrapper"},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.signInUser(t)}}},[n("div",{staticClass:"form__input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"},{name:"validate",rawName:"v-validate",value:"required|alpha|min:4",expression:"'required|alpha|min:4'"}],staticClass:"form__input form__input--primary",attrs:{type:"text",autocomplete:"off",spellcheck:"false",required:"",name:"nickname",id:"nickname"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}}),n("label",{staticClass:"form__lable",attrs:{for:"nickname"}},[e._v("Nickname")]),n("transition",{attrs:{name:"error-message__transition"}},[e.errors.has("nickname")?n("span",{staticClass:"error-message"},[e._v(e._s(e.errors.first("nickname")))]):e._e()])],1),n("button",{staticClass:"btn btn--secondary",attrs:{type:"submit"}},[e._v("Sign In")])])])},i=[],r=(n("6762"),n("ac6a"),n("cebc")),s=n("dc59"),o=n("2f62"),c={name:"SignInFrom",data:function(){return{nickname:null}},methods:Object(r["a"])({signInUser:function(){var e=this,t=this.nickname;!this.errors.has("nickname")&&t&&s["b"].collection("players").where("nickname","==",t).get().then(function(n){console.log("Current User:",!!s["a"].currentUser,0);var a=[];s["a"].currentUser&&n.forEach(function(e){a.push(e.id)}),!n.docs.length||s["a"].currentUser&&a.includes(s["a"].currentUser.uid)?(s["a"].signInAnonymously().catch(function(t){console.error(t.code,t.message),e.$validator.errors.add({field:"nickname",msg:t.message})}),s["a"].onAuthStateChanged(function(n){if(n){var a=n.uid;s["b"].collection("players").doc(a).set({nickname:t}),e.addUserdata({nickname:t,uid:a}),console.log("User is signed in with id",a),e.$router.push("create-or-join")}else console.log("User is not signed in (anymore)")})):e.$validator.errors.add({field:"nickname",msg:"Nickname already assigned to another Player."})}).catch(function(e){console.error(e)})}},Object(o["b"])(["addUserdata"]))},l=c,u=n("2877"),m=Object(u["a"])(l,a,i,!1,null,null,null);t["default"]=m.exports},6762:function(e,t,n){"use strict";var a=n("5ca1"),i=n("c366")(!0);a(a.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},ac6a:function(e,t,n){for(var a=n("cadf"),i=n("0d58"),r=n("2aba"),s=n("7726"),o=n("32e9"),c=n("84f2"),l=n("2b4c"),u=l("iterator"),m=l("toStringTag"),d=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=i(f),p=0;p<g.length;p++){var h,L=g[p],k=f[L],v=s[L],S=v&&v.prototype;if(S&&(S[u]||o(S,u,d),S[m]||o(S,m,L),c[L]=d,k))for(h in a)S[h]||r(S,h,a[h],!0)}}}]);
//# sourceMappingURL=chunk-919b5c4e.10f5cab3.js.map